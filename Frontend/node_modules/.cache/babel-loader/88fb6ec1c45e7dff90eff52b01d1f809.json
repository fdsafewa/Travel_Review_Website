{"ast":null,"code":"var _jsxFileName = \"/Users/binli/Downloads/Travel_Review_Website-Vicky-Li/Frontend/src/pages/Login.jsx\";\nimport React from 'react';\nimport { useState } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport '../styles/login.css';\nconst Login = () => {\n  const [email, setEmail] = useState();\n  const [password, setPassword] = useState();\n  const [role, setRole] = useState();\n  const navigate = useNavigate();\n  const handleSubmit = event => {\n    event.preventDefault();\n    axios.post('http://localhost:3001/login', {\n      email,\n      password,\n      role: role || 0\n    }).then(result => {\n      console.log(result);\n      if (result.data.message === \"Success\") {\n        localStorage.setItem(\"token\", result.data.token);\n        localStorage.setItem(\"user\", JSON.stringify(result.data.data));\n        localStorage.setItem(\"role\", result.data.data.role);\n        navigate('/');\n        alert('Login successful!');\n        window.location.reload();\n      } else {\n        alert('Incorrect password! Please try again.');\n      }\n    }).catch(err => console.log(err));\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"LoginOrRegister mt-140\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-center align-items-center text-center vh-80\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"bg-white rounded login-from\",\n    style: {\n      width: '40%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"mb-3 login-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 21\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"p-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-3 text-start\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"exampleInputEmail1\",\n    className: \"form-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 25\n    }\n  }, \"Email\")), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    placeholder: \"Enter Email\",\n    className: \"form-control\",\n    id: \"exampleInputEmail1\",\n    onChange: event => setEmail(event.target.value),\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 23\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-3 text-start\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"exampleInputPassword1\",\n    className: \"form-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 25\n    }\n  }, \"Password\")), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    placeholder: \"Enter Password\",\n    className: \"form-control\",\n    id: \"exampleInputPassword1\",\n    onChange: event => setPassword(event.target.value),\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 23\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-3 text-start\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"exampleInputRole\",\n    className: \"form-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 25\n    }\n  }, \"Role\")), /*#__PURE__*/React.createElement(\"select\", {\n    placeholder: \"Select Role\",\n    className: \"form-control\",\n    id: \"exampleInputRole\",\n    onChange: event => setRole(event.target.value),\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 25\n    }\n  }, \"Admin\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 25\n    }\n  }, \"User\"))), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"submit-btn \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 21\n    }\n  }, \"Login\")), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"login-footer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 19\n    }\n  }, \"Don't have an account? \", /*#__PURE__*/React.createElement(\"span\", {\n    className: \"register-btn\",\n    onClick: () => navigate('/register'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 49\n    }\n  }, \"Register\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"register-btn ml-20\",\n    onClick: () => navigate('/resetAccount', {\n      state: {\n        email: email\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 21\n    }\n  }, \"forget password\")))));\n};\nexport default Login;","map":{"version":3,"names":["React","useState","axios","useNavigate","Login","email","setEmail","password","setPassword","role","setRole","navigate","handleSubmit","event","preventDefault","post","then","result","console","log","data","message","localStorage","setItem","token","JSON","stringify","alert","window","location","reload","catch","err","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","style","width","onSubmit","htmlFor","type","placeholder","id","onChange","target","value","required","onClick","state"],"sources":["/Users/binli/Downloads/Travel_Review_Website-Vicky-Li/Frontend/src/pages/Login.jsx"],"sourcesContent":["import React from 'react';\nimport { useState } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport '../styles/login.css';\n\nconst Login = () => {\n    const [email, setEmail] = useState();\n    const [password, setPassword] = useState();\n    const [role, setRole] = useState();\n    const navigate = useNavigate();\n\n    const handleSubmit = (event) => {\n        event.preventDefault();\n        \n        axios.post( 'http://localhost:3001/login', {email, password, role: role || 0})\n        .then(result => {\n            console.log(result);\n            if(result.data.message === \"Success\"){\n              localStorage.setItem(\"token\", result.data.token);\n              localStorage.setItem(\"user\", JSON.stringify(result.data.data));\n              localStorage.setItem(\"role\", result.data.data.role);\n                navigate('/');\n                alert('Login successful!')\n                window.location.reload();\n            }\n            else{\n                alert('Incorrect password! Please try again.');\n            }\n        })\n        .catch(err => console.log(err));\n    }\n\n\n    return (\n        <div className=\"LoginOrRegister mt-140\">\n            <div className=\"d-flex justify-content-center align-items-center text-center vh-80\" >\n                <div className=\"bg-white rounded login-from\" style={{width : '40%'}}>\n                    <h2 className='mb-3 login-title'>Login</h2>\n                  <form onSubmit={handleSubmit} className='p-5'>\n                    <div className=\"mb-3 text-start\">\n                      <label htmlFor=\"exampleInputEmail1\" className=\"form-label\">\n                        <strong>Email</strong>\n                      </label>\n                      <input\n                        type=\"email\"\n                        placeholder=\"Enter Email\"\n                        className=\"form-control\"\n                        id=\"exampleInputEmail1\"\n                        onChange={(event) => setEmail(event.target.value)}\n                        required\n                      />\n                    </div>\n                    <div className=\"mb-3 text-start\">\n                      <label htmlFor=\"exampleInputPassword1\" className=\"form-label\">\n                        <strong>Password</strong>\n                      </label>\n                      <input\n                        type=\"password\"\n                        placeholder=\"Enter Password\"\n                        className=\"form-control\"\n                        id=\"exampleInputPassword1\"\n                        onChange={(event) => setPassword(event.target.value)}\n                        required\n                      />\n                    </div>\n                    <div className=\"mb-3 text-start\">\n                      <label htmlFor=\"exampleInputRole\" className=\"form-label\">\n                        <strong>Role</strong>\n                      </label>\n                      <select\n                        placeholder=\"Select Role\"\n                        className=\"form-control\"\n                        id=\"exampleInputRole\"\n                        onChange={(event) => setRole(event.target.value)}\n                        required>\n                        <option value=\"0\">Admin</option>\n                        <option value=\"1\">User</option>\n                      </select>\n                    </div>\n                    <button type=\"submit\" className=\"submit-btn \">Login</button>\n                  </form>\n                  <p className='login-footer'>\n                    Don&apos;t have an account? <span className=\"register-btn\"\n                                                      onClick={() => navigate('/register')}>Register</span>\n                    <span className=\"register-btn ml-20\"\n                          onClick={() => navigate('/resetAccount',  {\n                            state: {\n                              email: email,\n                            }\n                          })}>forget password</span>\n                  </p>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Login"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}